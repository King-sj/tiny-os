# TODO List

## 已完成 ✅
- [x] 实现基本的图形界面绘制 - 桌面风格界面

## 待解决 🔧
- [ ] 解决 init_palette 闪烁问题 - 通过在asmhead.nas中预设调色板并使用垂直同步等待解决
- [ ] 解决 img 不能被 macOS Parallels Desktop 正确识别的问题
  - 可能需要调整软盘镜像格式
  - 考虑生成标准的1.44MB FAT12格式镜像

## 功能扩展 🚀
- [ ] 添加字符显示功能
  - [ ] 加载字体数据
  - [ ] 实现putchar函数
  - [ ] 实现printf功能
- [ ] 添加鼠标支持
  - [ ] 初始化鼠标控制器
  - [ ] 处理鼠标中断
  - [ ] 绘制鼠标指针
- [ ] 添加键盘输入支持
  - [ ] 键盘中断处理
  - [ ] 键盘扫描码转换
  - [ ] 键盘缓冲区管理
- [ ] 内存管理
  - [ ] 实现简单的内存分配器
  - [ ] 内存页面管理
- [ ] 进程管理
  - [ ] 任务切换
  - [ ] 多任务调度器
- [ ] 文件系统
  - [ ] FAT12文件系统读写
  - [ ] 文件操作API

## 代码优化 ⚡
- [ ] 重构bootpack.c，分离图形和系统功能
- [ ] 添加错误处理机制
- [ ] 优化启动流程，减少启动时间
- [ ] 添加更多调试输出
- [ ] 改进Makefile，支持增量编译

## 文档完善 📚
- [x] 更新README.md以反映当前状态
- [ ] 添加详细的API文档
- [ ] 编写开发指南
- [ ] 添加常见问题解答

## 测试 🧪
- [ ] 在不同虚拟机中测试（QEMU, VirtualBox, VMware）
- [ ] 在真实硬件上测试
- [ ] 编写自动化测试脚本
- [ ] 性能基准测试
